<div class="px-4 py-5 my-5">
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
    <% albums.each do |row| %>
      <div class="col">
        <div class="card shadow-sm">

          <%= image_tag(url_for(row.cover), class: 'bd-placeholder-img card-img-top') if row.cover.attached? %>

          <div class="card-body">
            <p class="card-text"><%= row.try(:title) %></p>
            <p class="card-text"> <%= row.try(:description).truncate(150) %></p>
            <div class="d-flex justify-content-between align-items-center">
              <small class="text-body-secondary">Rating: <%= row.try(:rating) %></small>
            </div>

            <div class="mt-3">
              <h4>Faixas:</h4>
              <div class="list-group">
                <% row.tracks.each do |row| %>
                  <%= link_to(row.try(:name).truncate(100), song_path(row), title: row.try(:name), class: 'list-group-item list-group-item-action') %>
                <% end %>
              </div>
            </div>

          </div>
        </div>
      </div>

    <% end %>
  </div>
</div>